{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="mb-16">
  <div class="prose prose-lg max-w-none">
    {{ section.content | safe }}
  </div>
</div>

<!-- Blog Posts Grid -->
<div class="mb-12">
  <div class="flex justify-between items-center mb-8">
    <h2 class="text-3xl font-bold text-gray-900">Recent Posts</h2>
    <a href="{{ get_url(path="@/blog/_index.md") }}" class="text-blue-600 hover:text-blue-800 font-medium">
      View all â†’
    </a>
  </div>
  
  {% set blog = get_section(path="blog/_index.md") %}
  
  {% if blog.pages %}
  <!-- Grid Layout: 1 column on mobile, 2 on tablet, 3 on desktop -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for page in blog.pages | slice(end=6) %}
    <article class="bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col">
      <!-- Gradient Header -->
      <div class="w-full h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
        <span class="text-white text-6xl font-bold opacity-20">{{ page.title | truncate(length=1, end="") }}</span>
      </div>
      
      <!-- Card Content -->
      <div class="p-6 flex-1 flex flex-col">
        <!-- Date Badge -->
        <div class="mb-3">
          <time datetime="{{ page.date }}" class="text-xs font-semibold text-blue-600 uppercase tracking-wide">
            {{ page.date | date(format="%b %d, %Y") }}
          </time>
        </div>
        
        <!-- Title -->
        <h3 class="text-xl font-bold text-gray-900 mb-3 hover:text-blue-600 transition">
          <a href="{{ page.permalink }}">{{ page.title }}</a>
        </h3>
        
        <!-- Description -->
        <p class="text-gray-600 text-sm mb-4 flex-1">
          {{ page.description | default(value="") | truncate(length=120) }}
        </p>
        
        <!-- Read More Link -->
        <a href="{{ page.permalink }}" class="inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm group">
          Read more
          <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </article>
    {% endfor %}
  </div>
  {% else %}
  <!-- Empty State -->
  <div class="text-center py-12 bg-gray-50 rounded-lg">
    <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
    </svg>
    <p class="text-gray-600 text-lg">No posts yet. Start writing!</p>
  </div>
  {% endif %}
</div>

<!-- Optional: CTA Section -->
<div class="mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center text-white">
  <h3 class="text-2xl font-bold mb-4">Start Your Journey</h3>
  <p class="text-blue-100 mb-6">Explore more articles and tutorials on web development, design, and technology.</p>
  <a href="{{ get_url(path="@/blog/_index.md") }}" class="inline-block bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition">
    Browse All Posts
  </a>
</div>
{% endblock content %}
